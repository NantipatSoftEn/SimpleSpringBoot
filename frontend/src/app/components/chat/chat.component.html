<app-header></app-header>

<section class="main-wrapper bg-light">
  <div class="cgl-live-chat">
    <div class="chat-wrapper">
      <div class="chat-title">Web Socket</div>
      <div class="chat-view">
        <div *ngFor="let message of messages">
          <div class="chat-item">
            <div class="d-flex">
              <img
                src="../../../assets/images/profile.png"
                height="25"
                width="25"
              />
              <div class="p-1">
                <div class="d-flex align-items-end">
                  <div class="sender-name">{{ message.from }}</div>
                </div>
                <div class="float-right">
                  <button
                    type="button"
                    class="dropdown-btn btn-tr p-2"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                  >
                    <i class="fas fa-ellipsis-v"></i>
                  </button>
                </div>
                <div class="chat-text text-primary">{{ message.message }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="chat-message p-3">
        <form [formGroup]="chatFormGroup" (ngSubmit)="onSubmit()">
          <input type="text" formControlName="message" placeholder="Message" />
          <button
            type="submit"
            class="btn btn-primary"
            [disabled]="chatFormGroup.invalid"
          >
            <img
              src="../../../assets/images/right-arrow.png"
              width="25"
              height="25"
            />
          </button>
        </form>
      </div>
    </div>
  </div>
</section>
